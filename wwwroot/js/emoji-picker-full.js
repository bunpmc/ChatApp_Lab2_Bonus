/* esm.sh - emoji-picker-element@1.18.3 */
function qe(t){if(typeof t!="string"||!t)throw new Error("expected a non-empty string, got: "+t)}function ot(t){if(typeof t!="number")throw new Error("expected a number, got: "+t)}var hn=1,mn=1,he="emoji",je="keyvalue",at="favorites",pn="tokens",St="tokens",gn="unicode",Ct="count",_n="group",bn="order",Dt="group-order",it="eTag",Qe="url",Et="skinTone",Te="readonly",lt="readwrite",Lt="skinUnicodes",yn="skinUnicodes",kn="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",vn="en";function wn(t,e){let n=new Set,o=[];for(let r of t){let s=e(r);n.has(s)||(n.add(s),o.push(r))}return o}function jt(t){return wn(t,e=>e.unicode)}function En(t){function e(n,o,r){let s=o?t.createObjectStore(n,{keyPath:o}):t.createObjectStore(n);if(r)for(let[c,[m,u]]of Object.entries(r))s.createIndex(c,m,{multiEntry:u});return s}e(je),e(he,gn,{[St]:[pn,!0],[Dt]:[[_n,bn]],[Lt]:[yn,!0]}),e(at,void 0,{[Ct]:[""]})}var rt={},Je={},xe={};function At(t,e,n){n.onerror=()=>e(n.error),n.onblocked=()=>e(new Error("IDB blocked")),n.onsuccess=()=>t(n.result)}async function jn(t){let e=await new Promise((n,o)=>{let r=indexedDB.open(t,hn);rt[t]=r,r.onupgradeneeded=s=>{s.oldVersion<mn&&En(r.result)},At(n,o,r)});return e.onclose=()=>ct(t),e}function Tn(t){return Je[t]||(Je[t]=jn(t)),Je[t]}function ne(t,e,n,o){return new Promise((r,s)=>{let c=t.transaction(e,n,{durability:"relaxed"}),m=typeof e=="string"?c.objectStore(e):e.map(d=>c.objectStore(d)),u;o(m,c,d=>{u=d}),c.oncomplete=()=>r(u),c.onerror=()=>s(c.error)})}function ct(t){let e=rt[t],n=e&&e.result;if(n){n.close();let o=xe[t];if(o)for(let r of o)r()}delete rt[t],delete Je[t],delete xe[t]}function Sn(t){return new Promise((e,n)=>{ct(t);let o=indexedDB.deleteDatabase(t);At(e,n,o)})}function Cn(t,e){let n=xe[t];n||(n=xe[t]=[]),n.push(e)}var Dn=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function Ee(t){return t.split(/[\s_]+/).map(e=>!e.match(/\w/)||Dn.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/â€™/g,"'").toLowerCase()).filter(Boolean)}var Ln=2;function It(t){return t.filter(Boolean).map(e=>e.toLowerCase()).filter(e=>e.length>=Ln)}function An(t){return t.map(({annotation:n,emoticon:o,group:r,order:s,shortcodes:c,skins:m,tags:u,emoji:d,version:f})=>{let g=[...new Set(It([...(c||[]).map(Ee).flat(),...u.map(Ee).flat(),...Ee(n),o]))].sort(),h={annotation:n,group:r,order:s,tags:u,tokens:g,unicode:d,version:f};if(o&&(h.emoticon=o),c&&(h.shortcodes=c),m){h.skinTones=[],h.skinUnicodes=[],h.skinVersions=[];for(let{tone:_,emoji:w,version:v}of m)h.skinTones.push(_),h.skinUnicodes.push(w),h.skinVersions.push(v)}return h})}function Ot(t,e,n,o){t[e](n).onsuccess=r=>o&&o(r.target.result)}function fe(t,e,n){Ot(t,"get",e,n)}function Rt(t,e,n){Ot(t,"getAll",e,n)}function ut(t){t.commit&&t.commit()}function In(t,e){let n=t[0];for(let o=1;o<t.length;o++){let r=t[o];e(n)>e(r)&&(n=r)}return n}function zt(t,e){let n=In(t,r=>r.length),o=[];for(let r of n)t.some(s=>s.findIndex(c=>e(c)===e(r))===-1)||o.push(r);return o}async function On(t){return!await dt(t,je,Qe)}async function Rn(t,e,n){let[o,r]=await Promise.all([it,Qe].map(s=>dt(t,je,s)));return o===n&&r===e}async function zn(t,e){return ne(t,he,Te,(o,r,s)=>{let c,m=()=>{o.getAll(c&&IDBKeyRange.lowerBound(c,!0),50).onsuccess=u=>{let d=u.target.result;for(let f of d)if(c=f.unicode,e(f))return s(f);if(d.length<50)return s();m()}};m()})}async function Bt(t,e,n,o){{let r=An(e);await ne(t,[he,je],lt,([s,c],m)=>{let u,d,f=0;function g(){++f===2&&h()}function h(){if(!(u===o&&d===n)){s.clear();for(let _ of r)s.put(_);c.put(o,it),c.put(n,Qe),ut(m)}}fe(c,it,_=>{u=_,g()}),fe(c,Qe,_=>{d=_,g()})})}}async function Bn(t,e){return ne(t,he,Te,(n,o,r)=>{let s=IDBKeyRange.bound([e,0],[e+1,0],!1,!0);Rt(n.index(Dt),s,r)})}async function Ft(t,e){let n=It(Ee(e));return n.length?ne(t,he,Te,(o,r,s)=>{let c=[],m=()=>{c.length===n.length&&u()},u=()=>{let d=zt(c,f=>f.unicode);s(d.sort((f,g)=>f.order<g.order?-1:1))};for(let d=0;d<n.length;d++){let f=n[d],g=d===n.length-1?IDBKeyRange.bound(f,f+"\uFFFF",!1,!0):IDBKeyRange.only(f);Rt(o.index(St),g,h=>{c.push(h),m()})}}):[]}async function Fn(t,e){let n=await Ft(t,e);return n.length?n.filter(o=>(o.shortcodes||[]).map(s=>s.toLowerCase()).includes(e.toLowerCase()))[0]||null:await zn(t,r=>(r.shortcodes||[]).includes(e.toLowerCase()))||null}async function Mn(t,e){return ne(t,he,Te,(n,o,r)=>fe(n,e,s=>{if(s)return r(s);fe(n.index(Lt),e,c=>r(c||null))}))}function dt(t,e,n){return ne(t,e,Te,(o,r,s)=>fe(o,n,s))}function Nn(t,e,n,o){return ne(t,e,lt,(r,s)=>{r.put(o,n),ut(s)})}function Un(t,e){return ne(t,at,lt,(n,o)=>fe(n,e,r=>{n.put((r||0)+1,e),ut(o)}))}function Pn(t,e,n){return n===0?[]:ne(t,[at,he],Te,([o,r],s,c)=>{let m=[];o.index(Ct).openCursor(void 0,"prev").onsuccess=u=>{let d=u.target.result;if(!d)return c(m);function f(_){if(m.push(_),m.length===n)return c(m);d.continue()}let g=d.primaryKey,h=e.byName(g);if(h)return f(h);fe(r,g,_=>{if(_)return f(_);d.continue()})}})}var Ze="";function Kn(t,e){let n=new Map;for(let r of t){let s=e(r);for(let c of s){let m=n;for(let d=0;d<c.length;d++){let f=c.charAt(d),g=m.get(f);g||(g=new Map,m.set(f,g)),m=g}let u=m.get(Ze);u||(u=[],m.set(Ze,u)),u.push(r)}}return(r,s)=>{let c=n;for(let d=0;d<r.length;d++){let f=r.charAt(d),g=c.get(f);if(g)c=g;else return[]}if(s)return c.get(Ze)||[];let m=[],u=[c];for(;u.length;){let f=[...u.shift().entries()].sort((g,h)=>g[0]<h[0]?-1:1);for(let[g,h]of f)g===Ze?m.push(...h):u.push(h)}return m}}var Gn=["name","url"];function Wn(t){let e=t&&Array.isArray(t),n=e&&t.length&&(!t[0]||Gn.some(o=>!(o in t[0])));if(!e||n)throw new Error("Custom emojis are in the wrong format")}function Tt(t){Wn(t);let e=(h,_)=>h.name.toLowerCase()<_.name.toLowerCase()?-1:1,n=t.sort(e),r=Kn(t,h=>[...new Set((h.shortcodes||[]).map(_=>Ee(_)).flat())]),s=h=>r(h,!0),c=h=>r(h,!1),m=h=>{let _=Ee(h),w=_.map((v,k)=>(k<_.length-1?s:c)(v));return zt(w,v=>v.name).sort(e)},u=new Map,d=new Map;for(let h of t){d.set(h.name.toLowerCase(),h);for(let _ of h.shortcodes||[])u.set(_.toLowerCase(),h)}return{all:n,search:m,byShortcode:h=>u.get(h.toLowerCase()),byName:h=>d.get(h.toLowerCase())}}var Vn=typeof wrappedJSObject<"u";function ze(t){if(!t)return t;if(Vn&&(t=structuredClone(t)),delete t.tokens,t.skinTones){let e=t.skinTones.length;t.skins=Array(e);for(let n=0;n<e;n++)t.skins[n]={tone:t.skinTones[n],unicode:t.skinUnicodes[n],version:t.skinVersions[n]};delete t.skinTones,delete t.skinUnicodes,delete t.skinVersions}return t}function Mt(t){t||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}var Hn=["annotation","emoji","group","order","tags","version"];function Xn(t){if(!t||!Array.isArray(t)||!t[0]||typeof t[0]!="object"||Hn.some(e=>!(e in t[0])))throw new Error("Emoji data is in the wrong format")}function Nt(t,e){if(Math.floor(t.status/100)!==2)throw new Error("Failed to fetch: "+e+":  "+t.status)}async function Yn(t){let e=await fetch(t,{method:"HEAD"});Nt(e,t);let n=e.headers.get("etag");return Mt(n),n}async function st(t){let e=await fetch(t);Nt(e,t);let n=e.headers.get("etag");Mt(n);let o=await e.json();return Xn(o),[n,o]}function qn(t){for(var e="",n=new Uint8Array(t),o=n.byteLength,r=-1;++r<o;)e+=String.fromCharCode(n[r]);return e}function Zn(t){for(var e=t.length,n=new ArrayBuffer(e),o=new Uint8Array(n),r=-1;++r<e;)o[r]=t.charCodeAt(r);return n}async function Ut(t){let e=JSON.stringify(t),n=Zn(e),o=await crypto.subtle.digest("SHA-1",n),r=qn(o);return btoa(r)}async function Jn(t,e){let n,o=await Yn(e);if(!o){let r=await st(e);o=r[0],n=r[1],o||(o=await Ut(n))}await Rn(t,e,o)||(n||(n=(await st(e))[1]),await Bt(t,n,e,o))}async function Qn(t,e){let[n,o]=await st(e);n||(n=await Ut(o)),await Bt(t,o,e,n)}var Be=class{constructor({dataSource:e=kn,locale:n=vn,customEmoji:o=[]}={}){this.dataSource=e,this.locale=n,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=Tt(o),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){let e=this._db=await Tn(this._dbName);Cn(this._dbName,this._clear);let n=this.dataSource;await On(e)?await Qn(e,n):this._lazyUpdate=Jn(e,n)}async ready(){let e=async()=>(this._ready||(this._ready=this._init()),this._ready);await e(),this._db||await e()}async getEmojiByGroup(e){return ot(e),await this.ready(),jt(await Bn(this._db,e)).map(ze)}async getEmojiBySearchQuery(e){qe(e),await this.ready();let n=this._custom.search(e),o=jt(await Ft(this._db,e)).map(ze);return[...n,...o]}async getEmojiByShortcode(e){qe(e),await this.ready();let n=this._custom.byShortcode(e);return n||ze(await Fn(this._db,e))}async getEmojiByUnicodeOrName(e){qe(e),await this.ready();let n=this._custom.byName(e);return n||ze(await Mn(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await dt(this._db,je,Et)||0}async setPreferredSkinTone(e){return ot(e),await this.ready(),Nn(this._db,je,Et,e)}async incrementFavoriteEmojiCount(e){return qe(e),await this.ready(),Un(this._db,e)}async getTopFavoriteEmoji(e){return ot(e),await this.ready(),(await Pn(this._db,this._custom,e)).map(ze)}set customEmoji(e){this._custom=Tt(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await ct(this._dbName)}async delete(){await this._shutdown(),await Sn(this._dbName)}};function Ae(){}function on(t){return t()}function Pt(){return Object.create(null)}function Ie(t){t.forEach(on)}function wt(t){return typeof t=="function"}function xn(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}var $e;function nt(t,e){return $e||($e=document.createElement("a")),$e.href=e,t===$e.href}function $n(t){return Object.keys(t).length===0}function eo(t){return t&&wt(t.destroy)?t.destroy:Ae}var to=typeof window<"u"?window:globalThis;function C(t,e){t.appendChild(e)}function Z(t,e,n){t.insertBefore(e,n||null)}function J(t){t.parentNode&&t.parentNode.removeChild(t)}function S(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function q(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function i(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ee(t,e){e=""+e,t.data!==e&&(t.data=e)}function Kt(t,e){t.value=e??""}function re(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}var Pe;function Ue(t){Pe=t}function no(){if(!Pe)throw new Error("Function called outside component initialization");return Pe}function oo(t){no().$$.on_mount.push(t)}var Ce=[],De=[],Le=[],Gt=[],io=Promise.resolve(),_t=!1;function ro(){_t||(_t=!0,io.then(rn))}function bt(t){Le.push(t)}var ft=new Set,Se=0;function rn(){if(Se!==0)return;let t=Pe;do{try{for(;Se<Ce.length;){let e=Ce[Se];Se++,Ue(e),so(e.$$)}}catch(e){throw Ce.length=0,Se=0,e}for(Ue(null),Ce.length=0,Se=0;De.length;)De.pop()();for(let e=0;e<Le.length;e+=1){let n=Le[e];ft.has(n)||(ft.add(n),n())}Le.length=0}while(Ce.length);for(;Gt.length;)Gt.pop()();_t=!1,ft.clear(),Ue(t)}function so(t){if(t.fragment!==null){t.update(),Ie(t.before_update);let e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(bt)}}function ao(t){let e=[],n=[];Le.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),Le=e}var lo=new Set;function co(t,e){t&&t.i&&(lo.delete(t),t.i(e))}function Fe(t,e){t.d(1),e.delete(t.key)}function Me(t,e,n,o,r,s,c,m,u,d,f,g){let h=t.length,_=s.length,w=h,v={};for(;w--;)v[t[w].key]=w;let k=[],L=new Map,A=new Map,N=[];for(w=_;w--;){let y=g(r,s,w),T=n(y),R=c.get(T);R?o&&N.push(()=>R.p(y,e)):(R=d(T,y),R.c()),L.set(T,k[w]=R),T in v&&A.set(T,Math.abs(w-v[T]))}let I=new Set,V=new Set;function K(y){co(y,1),y.m(m,f),c.set(y.key,y),f=y.first,_--}for(;h&&_;){let y=k[_-1],T=t[h-1],R=y.key,G=T.key;y===T?(f=y.first,h--,_--):L.has(G)?!c.has(R)||I.has(R)?K(y):V.has(G)?h--:A.get(R)>A.get(G)?(V.add(R),K(y)):(I.add(G),h--):(u(T,c),h--)}for(;h--;){let y=t[h];L.has(y.key)||u(y,c)}for(;_;)K(k[_-1]);return Ie(N),k}function uo(t,e,n,o){let{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),o||bt(()=>{let c=t.$$.on_mount.map(on).filter(wt);t.$$.on_destroy?t.$$.on_destroy.push(...c):Ie(c),t.$$.on_mount=[]}),s.forEach(bt)}function fo(t,e){let n=t.$$;n.fragment!==null&&(ao(n.after_update),Ie(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ho(t,e){t.$$.dirty[0]===-1&&(Ce.push(t),ro(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function mo(t,e,n,o,r,s,c,m=[-1]){let u=Pe;Ue(t);let d=t.$$={fragment:null,ctx:[],props:s,update:Ae,not_equal:r,bound:Pt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:Pt(),dirty:m,skip_bound:!1,root:e.target||u.$$.root};c&&c(d.root);let f=!1;d.ctx=n?n(t,e.props||{},(g,h,..._)=>{let w=_.length?_[0]:h;return d.ctx&&r(d.ctx[g],d.ctx[g]=w)&&(!d.skip_bound&&d.bound[g]&&d.bound[g](w),f&&ho(t,g)),h}):[],d.update(),f=!0,Ie(d.before_update),d.fragment=o?o(d.ctx):!1,e.target&&(d.fragment&&d.fragment.c(),uo(t,e.target,void 0,void 0),rn()),Ue(u)}var yt=class{$destroy(){fo(this,1),this.$destroy=Ae}$on(e,n){if(!wt(n))return Ae;let o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{let r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(e){this.$$set&&!$n(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}},sn=[[-1,"\u2728","custom"],[0,"\u{1F600}","smileys-emotion"],[1,"\u{1F44B}","people-body"],[3,"\u{1F431}","animals-nature"],[4,"\u{1F34E}","food-drink"],[5,"\u{1F3E0}\uFE0F","travel-places"],[6,"\u26BD","activities"],[7,"\u{1F4DD}","objects"],[8,"\u26D4\uFE0F","symbols"],[9,"\u{1F3C1}","flags"]].map(([t,e,n])=>({id:t,emoji:e,name:n})),et=sn.slice(1),po=sn[0],go=2,Wt=6,an=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function Vt(t){return t.unicode.includes("\u200D")}var _o={"\u{1FAE8}":15,"\u{1FAE0}":14,"\u{1F972}":13.1,"\u{1F97B}":12.1,"\u{1F970}":11,"\u{1F929}":5,"\u{1F471}\u200D\u2640\uFE0F":4,"\u{1F923}":3,"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":2,"\u{1F600}":1,"\u{1F610}\uFE0F":.7,"\u{1F603}":.6},bo=1e3,yo="\u{1F590}\uFE0F",ko=8,vo=["\u{1F60A}","\u{1F612}","\u2665\uFE0F","\u{1F44D}\uFE0F","\u{1F60D}","\u{1F602}","\u{1F62D}","\u263A\uFE0F","\u{1F614}","\u{1F629}","\u{1F60F}","\u{1F495}","\u{1F64C}","\u{1F618}"],ln='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',wo=(t,e)=>t<e?-1:t>e?1:0,Ht=(t,e)=>{let n=document.createElement("canvas");n.width=n.height=1;let o=n.getContext("2d");return o.textBaseline="top",o.font=`100px ${ln}`,o.fillStyle=e,o.scale(.01,.01),o.fillText(t,0,0),o.getImageData(0,0,1,1).data},Eo=(t,e)=>{let n=[...t].join(","),o=[...e].join(",");return n===o&&!n.startsWith("0,0,0,")};function jo(t){let e=Ht(t,"#000"),n=Ht(t,"#fff");return e&&n&&Eo(e,n)}function To(){let t=Object.entries(_o);try{for(let[e,n]of t)if(jo(e))return n}catch{}return t[0][1]}var ht,mt=()=>(ht||(ht=new Promise(t=>an(()=>t(To())))),ht),kt=new Map,So="\uFE0F",Co="\uD83C",Do="\u200D",Lo=127995,Ao=57339;function Io(t,e){if(e===0)return t;let n=t.indexOf(Do);return n!==-1?t.substring(0,n)+String.fromCodePoint(Lo+e-1)+t.substring(n):(t.endsWith(So)&&(t=t.substring(0,t.length-1)),t+Co+String.fromCodePoint(Ao+e-1))}function x(t){t.preventDefault(),t.stopPropagation()}function pt(t,e,n){return e+=t?-1:1,e<0?e=n.length-1:e>=n.length&&(e=0),e}function cn(t,e){let n=new Set,o=[];for(let r of t){let s=e(r);n.has(s)||(n.add(s),o.push(r))}return o}function Oo(t,e){let n=o=>{let r={};for(let s of o)typeof s.tone=="number"&&s.version<=e&&(r[s.tone]=s.unicode);return r};return t.map(({unicode:o,skins:r,shortcodes:s,url:c,name:m,category:u})=>({unicode:o,name:m,shortcodes:s,url:c,category:u,id:o||m,skins:r&&n(r),title:(s||[]).join(", ")}))}var tt=requestAnimationFrame,Ro=typeof ResizeObserver=="function";function zo(t,e){let n;return Ro?(n=new ResizeObserver(o=>e(o[0].contentRect.width)),n.observe(t)):tt(()=>e(t.getBoundingClientRect().width)),{destroy(){n&&n.disconnect()}}}function Xt(t){{let e=document.createRange();return e.selectNode(t.firstChild),e.getBoundingClientRect().width}}var gt;function Bo(t,e,n){for(let o of t){let r=n(o),s=Xt(r);typeof gt>"u"&&(gt=Xt(e));let c=s/1.8<gt;kt.set(o.unicode,c)}}function Fo(t){return cn(t,e=>e)}function Mo(t){t&&(t.scrollTop=0)}var{Map:Ne}=to;function Yt(t,e,n){let o=t.slice();return o[64]=e[n],o[66]=n,o}function qt(t,e,n){let o=t.slice();return o[67]=e[n],o[66]=n,o}function Zt(t,e,n){let o=t.slice();return o[64]=e[n],o[66]=n,o}function Jt(t,e,n){let o=t.slice();return o[70]=e[n],o}function Qt(t,e,n){let o=t.slice();return o[73]=e[n],o[66]=n,o}function xt(t,e){let n,o=e[73]+"",r,s,c,m,u,d;return{key:t,first:null,c(){n=S("div"),r=$(o),i(n,"id",s="skintone-"+e[66]),i(n,"class",c="emoji "+(e[66]===e[20]?"active":"")),i(n,"aria-selected",m=e[66]===e[20]),i(n,"role","option"),i(n,"title",u=e[0].skinTones[e[66]]),i(n,"aria-label",d=e[0].skinTones[e[66]]),this.first=n},m(f,g){Z(f,n,g),C(n,r)},p(f,g){e=f,g[0]&512&&o!==(o=e[73]+"")&&ee(r,o),g[0]&512&&s!==(s="skintone-"+e[66])&&i(n,"id",s),g[0]&1049088&&c!==(c="emoji "+(e[66]===e[20]?"active":""))&&i(n,"class",c),g[0]&1049088&&m!==(m=e[66]===e[20])&&i(n,"aria-selected",m),g[0]&513&&u!==(u=e[0].skinTones[e[66]])&&i(n,"title",u),g[0]&513&&d!==(d=e[0].skinTones[e[66]])&&i(n,"aria-label",d)},d(f){f&&J(n)}}}function $t(t,e){let n,o,r=e[70].emoji+"",s,c,m,u,d,f,g;function h(){return e[50](e[70])}return{key:t,first:null,c(){n=S("button"),o=S("div"),s=$(r),i(o,"class","nav-emoji emoji"),i(n,"role","tab"),i(n,"class","nav-button"),i(n,"aria-controls",c="tab-"+e[70].id),i(n,"aria-label",m=e[0].categories[e[70].name]),i(n,"aria-selected",u=!e[4]&&e[13].id===e[70].id),i(n,"title",d=e[0].categories[e[70].name]),this.first=n},m(_,w){Z(_,n,w),C(n,o),C(o,s),f||(g=q(n,"click",h),f=!0)},p(_,w){e=_,w[0]&4096&&r!==(r=e[70].emoji+"")&&ee(s,r),w[0]&4096&&c!==(c="tab-"+e[70].id)&&i(n,"aria-controls",c),w[0]&4097&&m!==(m=e[0].categories[e[70].name])&&i(n,"aria-label",m),w[0]&12304&&u!==(u=!e[4]&&e[13].id===e[70].id)&&i(n,"aria-selected",u),w[0]&4097&&d!==(d=e[0].categories[e[70].name])&&i(n,"title",d)},d(_){_&&J(n),f=!1,g()}}}function No(t){let e,n;return{c(){e=S("img"),i(e,"class","custom-emoji"),nt(e.src,n=t[64].url)||i(e,"src",n),i(e,"alt",""),i(e,"loading","lazy")},m(o,r){Z(o,e,r)},p(o,r){r[0]&32768&&!nt(e.src,n=o[64].url)&&i(e,"src",n)},d(o){o&&J(e)}}}function Uo(t){let e=t[27](t[64],t[8])+"",n;return{c(){n=$(e)},m(o,r){Z(o,n,r)},p(o,r){r[0]&33024&&e!==(e=o[27](o[64],o[8])+"")&&ee(n,e)},d(o){o&&J(n)}}}function en(t,e){let n,o,r,s,c,m,u;function d(h,_){return h[64].unicode?Uo:No}let f=d(e),g=f(e);return{key:t,first:null,c(){n=S("button"),g.c(),i(n,"role",o=e[4]?"option":"menuitem"),i(n,"aria-selected",r=e[4]?e[66]==e[5]:""),i(n,"aria-label",s=e[28](e[64],e[8])),i(n,"title",c=e[64].title),i(n,"class",m="emoji "+(e[4]&&e[66]===e[5]?"active":"")),i(n,"id",u="emo-"+e[64].id),this.first=n},m(h,_){Z(h,n,_),g.m(n,null)},p(h,_){e=h,f===(f=d(e))&&g?g.p(e,_):(g.d(1),g=f(e),g&&(g.c(),g.m(n,null))),_[0]&16&&o!==(o=e[4]?"option":"menuitem")&&i(n,"role",o),_[0]&32816&&r!==(r=e[4]?e[66]==e[5]:"")&&i(n,"aria-selected",r),_[0]&33024&&s!==(s=e[28](e[64],e[8]))&&i(n,"aria-label",s),_[0]&32768&&c!==(c=e[64].title)&&i(n,"title",c),_[0]&32816&&m!==(m="emoji "+(e[4]&&e[66]===e[5]?"active":""))&&i(n,"class",m),_[0]&32768&&u!==(u="emo-"+e[64].id)&&i(n,"id",u)},d(h){h&&J(n),g.d()}}}function tn(t,e){let n,o=(e[4]?e[0].searchResultsLabel:e[67].category?e[67].category:e[15].length>1?e[0].categories.custom:e[0].categories[e[13].name])+"",r,s,c,m,u=[],d=new Ne,f,g,h,_=e[67].emojis,w=v=>v[64].id;for(let v=0;v<_.length;v+=1){let k=Zt(e,_,v),L=w(k);d.set(L,u[v]=en(L,k))}return{key:t,first:null,c(){n=S("div"),r=$(o),m=S("div");for(let v=0;v<u.length;v+=1)u[v].c();i(n,"id",s="menu-label-"+e[66]),i(n,"class",c="category "+(e[15].length===1&&e[15][0].category===""?"gone":"")),i(n,"aria-hidden","true"),i(m,"class","emoji-menu"),i(m,"role",f=e[4]?"listbox":"menu"),i(m,"aria-labelledby",g="menu-label-"+e[66]),i(m,"id",h=e[4]?"search-results":""),this.first=n},m(v,k){Z(v,n,k),C(n,r),Z(v,m,k);for(let L=0;L<u.length;L+=1)u[L]&&u[L].m(m,null)},p(v,k){e=v,k[0]&40977&&o!==(o=(e[4]?e[0].searchResultsLabel:e[67].category?e[67].category:e[15].length>1?e[0].categories.custom:e[0].categories[e[13].name])+"")&&ee(r,o),k[0]&32768&&s!==(s="menu-label-"+e[66])&&i(n,"id",s),k[0]&32768&&c!==(c="category "+(e[15].length===1&&e[15][0].category===""?"gone":""))&&i(n,"class",c),k[0]&402686256&&(_=e[67].emojis,u=Me(u,k,w,1,e,_,d,m,Fe,en,null,Zt)),k[0]&16&&f!==(f=e[4]?"listbox":"menu")&&i(m,"role",f),k[0]&32768&&g!==(g="menu-label-"+e[66])&&i(m,"aria-labelledby",g),k[0]&16&&h!==(h=e[4]?"search-results":"")&&i(m,"id",h)},d(v){v&&J(n),v&&J(m);for(let k=0;k<u.length;k+=1)u[k].d()}}}function Po(t){let e,n;return{c(){e=S("img"),i(e,"class","custom-emoji"),nt(e.src,n=t[64].url)||i(e,"src",n),i(e,"alt",""),i(e,"loading","lazy")},m(o,r){Z(o,e,r)},p(o,r){r[0]&1024&&!nt(e.src,n=o[64].url)&&i(e,"src",n)},d(o){o&&J(e)}}}function Ko(t){let e=t[27](t[64],t[8])+"",n;return{c(){n=$(e)},m(o,r){Z(o,n,r)},p(o,r){r[0]&1280&&e!==(e=o[27](o[64],o[8])+"")&&ee(n,e)},d(o){o&&J(n)}}}function nn(t,e){let n,o,r,s;function c(d,f){return d[64].unicode?Ko:Po}let m=c(e),u=m(e);return{key:t,first:null,c(){n=S("button"),u.c(),i(n,"role","menuitem"),i(n,"aria-label",o=e[28](e[64],e[8])),i(n,"title",r=e[64].title),i(n,"class","emoji"),i(n,"id",s="fav-"+e[64].id),this.first=n},m(d,f){Z(d,n,f),u.m(n,null)},p(d,f){e=d,m===(m=c(e))&&u?u.p(e,f):(u.d(1),u=m(e),u&&(u.c(),u.m(n,null))),f[0]&1280&&o!==(o=e[28](e[64],e[8]))&&i(n,"aria-label",o),f[0]&1024&&r!==(r=e[64].title)&&i(n,"title",r),f[0]&1024&&s!==(s="fav-"+e[64].id)&&i(n,"id",s)},d(d){d&&J(n),u.d()}}}function Go(t){let e,n,o,r,s,c,m,u,d,f=t[0].searchLabel+"",g,h,_=t[0].searchDescription+"",w,v,k,L,A,N,I,V=t[0].skinToneDescription+"",K,y,T=[],R=new Ne,G,se,H,oe,z,F=[],Oe=new Ne,ae,X,U,P,Q,le,O,ie,M=[],Ge=new Ne,me,pe,ge,ce,B,W=[],We=new Ne,_e,ue,te,de,Re,be,ye=t[9],Ve=l=>l[73];for(let l=0;l<ye.length;l+=1){let p=Qt(t,ye,l),j=Ve(p);R.set(j,T[l]=xt(j,p))}let ke=t[12],He=l=>l[70].id;for(let l=0;l<ke.length;l+=1){let p=Jt(t,ke,l),j=He(p);Oe.set(j,F[l]=$t(j,p))}let ve=t[15],Xe=l=>l[67].category;for(let l=0;l<ve.length;l+=1){let p=qt(t,ve,l),j=Xe(p);Ge.set(j,M[l]=tn(j,p))}let we=t[10],Ye=l=>l[64].id;for(let l=0;l<we.length;l+=1){let p=Yt(t,we,l),j=Ye(p);We.set(j,W[l]=nn(j,p))}return{c(){e=S("section"),n=S("div"),o=S("div"),r=S("div"),s=S("input"),d=S("label"),g=$(f),h=S("span"),w=$(_),v=S("div"),k=S("button"),L=$(t[21]),I=S("span"),K=$(V),y=S("div");for(let l=0;l<T.length;l+=1)T[l].c();z=S("div");for(let l=0;l<F.length;l+=1)F[l].c();X=S("div"),U=S("div"),P=S("div"),Q=$(t[18]),O=S("div"),ie=S("div");for(let l=0;l<M.length;l+=1)M[l].c();B=S("div");for(let l=0;l<W.length;l+=1)W[l].c();te=S("button"),te.textContent="\u{1F600}",i(n,"class","pad-top"),i(s,"id","search"),i(s,"class","search"),i(s,"type","search"),i(s,"role","combobox"),i(s,"enterkeyhint","search"),i(s,"placeholder",c=t[0].searchLabel),i(s,"autocapitalize","none"),i(s,"autocomplete","off"),i(s,"spellcheck","true"),i(s,"aria-expanded",m=!!(t[4]&&t[1].length)),i(s,"aria-controls","search-results"),i(s,"aria-describedby","search-description"),i(s,"aria-autocomplete","list"),i(s,"aria-activedescendant",u=t[26]?`emo-${t[26]}`:""),i(d,"class","sr-only"),i(d,"for","search"),i(h,"id","search-description"),i(h,"class","sr-only"),i(r,"class","search-wrapper"),i(k,"id","skintone-button"),i(k,"class",A="emoji "+(t[6]?"hide-focus":"")),i(k,"aria-label",t[23]),i(k,"title",t[23]),i(k,"aria-describedby","skintone-description"),i(k,"aria-haspopup","listbox"),i(k,"aria-expanded",t[6]),i(k,"aria-controls","skintone-list"),i(v,"class",N="skintone-button-wrapper "+(t[19]?"expanded":"")),i(I,"id","skintone-description"),i(I,"class","sr-only"),i(y,"id","skintone-list"),i(y,"class",G="skintone-list hide-focus "+(t[6]?"":"hidden no-animate")),re(y,"transform","translateY("+(t[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),i(y,"role","listbox"),i(y,"aria-label",se=t[0].skinTonesLabel),i(y,"aria-activedescendant",H="skintone-"+t[20]),i(y,"aria-hidden",oe=!t[6]),i(y,"tabindex","-1"),i(o,"class","search-row"),i(z,"class","nav"),i(z,"role","tablist"),re(z,"grid-template-columns","repeat("+t[12].length+", 1fr)"),i(z,"aria-label",ae=t[0].categoriesLabel),i(U,"class","indicator"),re(U,"transform","translateX("+(t[24]?-1:1)*t[11]*100+"%)"),i(X,"class","indicator-wrapper"),i(P,"class",le="message "+(t[18]?"":"gone")),i(P,"role","alert"),i(P,"aria-live","polite"),i(O,"class",me="tabpanel "+(!t[14]||t[18]?"gone":"")),i(O,"role",pe=t[4]?"region":"tabpanel"),i(O,"aria-label",ge=t[4]?t[0].searchResultsLabel:t[0].categories[t[13].name]),i(O,"id",ce=t[4]?"":`tab-${t[13].id}`),i(O,"tabindex","0"),i(B,"class",_e="favorites emoji-menu "+(t[18]?"gone":"")),i(B,"role","menu"),i(B,"aria-label",ue=t[0].favoritesLabel),re(B,"padding-inline-end",t[25]+"px"),i(te,"aria-hidden","true"),i(te,"tabindex","-1"),i(te,"class","abs-pos hidden emoji"),i(e,"class","picker"),i(e,"aria-label",de=t[0].regionLabel),i(e,"style",t[22])},m(l,p){Z(l,e,p),C(e,n),C(e,o),C(o,r),C(r,s),Kt(s,t[2]),C(r,d),C(d,g),C(r,h),C(h,w),C(o,v),C(v,k),C(k,L),C(o,I),C(I,K),C(o,y);for(let j=0;j<T.length;j+=1)T[j]&&T[j].m(y,null);t[49](y),C(e,z);for(let j=0;j<F.length;j+=1)F[j]&&F[j].m(z,null);C(e,X),C(X,U),C(e,P),C(P,Q),C(e,O),C(O,ie);for(let j=0;j<M.length;j+=1)M[j]&&M[j].m(ie,null);t[51](O),C(e,B);for(let j=0;j<W.length;j+=1)W[j]&&W[j].m(B,null);C(e,te),t[52](te),t[53](e),Re||(be=[q(s,"input",t[48]),q(s,"keydown",t[30]),q(k,"click",t[35]),q(y,"focusout",t[38]),q(y,"click",t[34]),q(y,"keydown",t[36]),q(y,"keyup",t[37]),q(z,"keydown",t[32]),eo(t[29].call(null,ie)),q(O,"click",t[33]),q(B,"click",t[33])],Re=!0)},p(l,p){p[0]&1&&c!==(c=l[0].searchLabel)&&i(s,"placeholder",c),p[0]&18&&m!==(m=!!(l[4]&&l[1].length))&&i(s,"aria-expanded",m),p[0]&67108864&&u!==(u=l[26]?`emo-${l[26]}`:"")&&i(s,"aria-activedescendant",u),p[0]&4&&s.value!==l[2]&&Kt(s,l[2]),p[0]&1&&f!==(f=l[0].searchLabel+"")&&ee(g,f),p[0]&1&&_!==(_=l[0].searchDescription+"")&&ee(w,_),p[0]&2097152&&ee(L,l[21]),p[0]&64&&A!==(A="emoji "+(l[6]?"hide-focus":""))&&i(k,"class",A),p[0]&8388608&&i(k,"aria-label",l[23]),p[0]&8388608&&i(k,"title",l[23]),p[0]&64&&i(k,"aria-expanded",l[6]),p[0]&524288&&N!==(N="skintone-button-wrapper "+(l[19]?"expanded":""))&&i(v,"class",N),p[0]&1&&V!==(V=l[0].skinToneDescription+"")&&ee(K,V),p[0]&1049089&&(ye=l[9],T=Me(T,p,Ve,1,l,ye,R,y,Fe,xt,null,Qt)),p[0]&64&&G!==(G="skintone-list hide-focus "+(l[6]?"":"hidden no-animate"))&&i(y,"class",G),p[0]&64&&re(y,"transform","translateY("+(l[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),p[0]&1&&se!==(se=l[0].skinTonesLabel)&&i(y,"aria-label",se),p[0]&1048576&&H!==(H="skintone-"+l[20])&&i(y,"aria-activedescendant",H),p[0]&64&&oe!==(oe=!l[6])&&i(y,"aria-hidden",oe),p[0]&12305|p[1]&1&&(ke=l[12],F=Me(F,p,He,1,l,ke,Oe,z,Fe,$t,null,Jt)),p[0]&4096&&re(z,"grid-template-columns","repeat("+l[12].length+", 1fr)"),p[0]&1&&ae!==(ae=l[0].categoriesLabel)&&i(z,"aria-label",ae),p[0]&16779264&&re(U,"transform","translateX("+(l[24]?-1:1)*l[11]*100+"%)"),p[0]&262144&&ee(Q,l[18]),p[0]&262144&&le!==(le="message "+(l[18]?"":"gone"))&&i(P,"class",le),p[0]&402694449&&(ve=l[15],M=Me(M,p,Xe,1,l,ve,Ge,ie,Fe,tn,null,qt)),p[0]&278528&&me!==(me="tabpanel "+(!l[14]||l[18]?"gone":""))&&i(O,"class",me),p[0]&16&&pe!==(pe=l[4]?"region":"tabpanel")&&i(O,"role",pe),p[0]&8209&&ge!==(ge=l[4]?l[0].searchResultsLabel:l[0].categories[l[13].name])&&i(O,"aria-label",ge),p[0]&8208&&ce!==(ce=l[4]?"":`tab-${l[13].id}`)&&i(O,"id",ce),p[0]&402654464&&(we=l[10],W=Me(W,p,Ye,1,l,we,We,B,Fe,nn,null,Yt)),p[0]&262144&&_e!==(_e="favorites emoji-menu "+(l[18]?"gone":""))&&i(B,"class",_e),p[0]&1&&ue!==(ue=l[0].favoritesLabel)&&i(B,"aria-label",ue),p[0]&33554432&&re(B,"padding-inline-end",l[25]+"px"),p[0]&1&&de!==(de=l[0].regionLabel)&&i(e,"aria-label",de),p[0]&4194304&&i(e,"style",l[22])},i:Ae,o:Ae,d(l){l&&J(e);for(let p=0;p<T.length;p+=1)T[p].d();t[49](null);for(let p=0;p<F.length;p+=1)F[p].d();for(let p=0;p<M.length;p+=1)M[p].d();t[51](null);for(let p=0;p<W.length;p+=1)W[p].d();t[52](null),t[53](null),Re=!1,Ie(be)}}}function Wo(t,e,n){let{skinToneEmoji:o}=e,{i18n:r}=e,{database:s}=e,{customEmoji:c}=e,{customCategorySorting:m}=e,{emojiVersion:u}=e,d=!0,f=[],g=[],h="",_="",w,v,k,L=!1,A=-1,N,I=!1,V=!1,K,y=0,T=0,R,G,se="",H=[],oe=[],z,F=ko,Oe=!1,ae=0,X=0,U=et,P,Q=!1,le,O=a=>{w.getRootNode().getElementById(a).focus()},ie=(a,b)=>{w.dispatchEvent(new CustomEvent(a,{detail:b,bubbles:!0,composed:!0}))},M=(a,b)=>b&&a.skins&&a.skins[b]||a.unicode,Ge=(a,b)=>Fo([a.name||M(a,b),...a.shortcodes||[]]).join(", ");oo(()=>{u||mt().then(a=>{a||n(18,N=r.emojiUnsupportedMessage)})});function me(a){return zo(a,b=>{{let E=getComputedStyle(w),D=parseInt(E.getPropertyValue("--num-columns"),10),Y=E.getPropertyValue("direction")==="rtl",fn=a.parentElement.getBoundingClientRect().width-b;n(47,F=D),n(25,ae=fn),n(24,Oe=Y)}})}function pe(a){let b=w.getRootNode();Bo(a,v,D=>b.getElementById(`emo-${D.id}`)),n(1,f=f)}function ge(a){return!a.unicode||!Vt(a)||kt.get(a.unicode)}async function ce(a){let b=u||await mt();return a.filter(({version:E})=>!E||E<=b)}async function B(a){return Oo(a,u||await mt())}async function W(a){let b=a===-1?c:await s.getEmojiByGroup(a);return B(await ce(b))}async function We(a){return B(await ce(await s.getEmojiBySearchQuery(a)))}function _e(a){if(!L||!f.length)return;let b=E=>{x(a),n(5,A=pt(E,A,f))};switch(a.key){case"ArrowDown":return b(!1);case"ArrowUp":return b(!0);case"Enter":if(A!==-1)return x(a),de(f[A].id);f.length&&n(5,A=0)}}function ue(a){n(2,h=""),n(45,_=""),n(5,A=-1),n(11,X=U.findIndex(b=>b.id===a.id))}function te(a){let{target:b,key:E}=a,D=Y=>{Y&&(x(a),Y.focus())};switch(E){case"ArrowLeft":return D(b.previousSibling);case"ArrowRight":return D(b.nextSibling);case"Home":return D(b.parentElement.firstChild);case"End":return D(b.parentElement.lastChild)}}async function de(a){let b=await s.getEmojiByUnicodeOrName(a),E=[...f,...oe].find(Y=>Y.id===a),D=E.unicode&&M(E,y);await s.incrementFavoriteEmojiCount(a),ie("emoji-click",{emoji:b,skinTone:y,...D&&{unicode:D},...E.name&&{name:E.name}})}async function Re(a){let{target:b}=a;if(!b.classList.contains("emoji"))return;x(a);let E=b.id.substring(4);de(E)}function be(a){n(8,y=a),n(6,I=!1),O("skintone-button"),ie("skin-tone-change",{skinTone:a}),s.setPreferredSkinTone(a)}function ye(a){let{target:{id:b}}=a,E=b&&b.match(/^skintone-(\d)/);if(!E)return;x(a);let D=parseInt(E[1],10);be(D)}function Ve(a){n(6,I=!I),n(20,T=y),I&&(x(a),tt(()=>O("skintone-list")))}function ke(a){if(!I)return;let b=async E=>{x(a),n(20,T=E)};switch(a.key){case"ArrowUp":return b(pt(!0,T,H));case"ArrowDown":return b(pt(!1,T,H));case"Home":return b(0);case"End":return b(H.length-1);case"Enter":return x(a),be(T);case"Escape":return x(a),n(6,I=!1),O("skintone-button")}}function He(a){if(I&&a.key===" ")return x(a),be(T)}async function ve(a){let{relatedTarget:b}=a;(!b||b.id!=="skintone-list")&&n(6,I=!1)}function Xe(){h=this.value,n(2,h)}function we(a){De[a?"unshift":"push"](()=>{K=a,n(7,K)})}let Ye=a=>ue(a);function l(a){De[a?"unshift":"push"](()=>{k=a,n(3,k)})}function p(a){De[a?"unshift":"push"](()=>{v=a,n(17,v)})}function j(a){De[a?"unshift":"push"](()=>{w=a,n(16,w)})}return t.$$set=a=>{"skinToneEmoji"in a&&n(40,o=a.skinToneEmoji),"i18n"in a&&n(0,r=a.i18n),"database"in a&&n(39,s=a.database),"customEmoji"in a&&n(41,c=a.customEmoji),"customCategorySorting"in a&&n(42,m=a.customCategorySorting),"emojiVersion"in a&&n(43,u=a.emojiVersion)},t.$$.update=()=>{if(t.$$.dirty[1]&1280&&c&&s&&n(39,s.customEmoji=c,s),t.$$.dirty[0]&1|t.$$.dirty[1]&256){async function a(){let b=!1,E=setTimeout(()=>{b=!0,n(18,N=r.loadingMessage)},bo);try{await s.ready(),n(14,Q=!0)}catch(D){console.error(D),n(18,N=r.networkErrorMessage)}finally{clearTimeout(E),b&&(b=!1,n(18,N=""))}}s&&a()}if(t.$$.dirty[0]&6144|t.$$.dirty[1]&1024&&(c&&c.length?n(12,U=[po,...et]):U!==et&&(X&&n(11,X--,X),n(12,U=et))),t.$$.dirty[0]&4&&an(()=>{n(45,_=(h||"").trim()),n(5,A=-1)}),t.$$.dirty[0]&6144&&n(13,P=U[X]),t.$$.dirty[0]&24576|t.$$.dirty[1]&16384){async function a(){if(!Q)n(1,f=[]),n(4,L=!1);else if(_.length>=go){let b=_,E=await We(b);b===_&&(n(1,f=E),n(4,L=!0))}else if(P){let b=P.id,E=await W(b);b===P.id&&(n(1,f=E),n(4,L=!1))}}a()}if(t.$$.dirty[0]&4112&&n(22,G=`
  --num-groups: ${U.length}; 
  --indicator-opacity: ${L?0:1}; 
  --num-skintones: ${Wt};`),t.$$.dirty[0]&16384|t.$$.dirty[1]&256){async function a(){Q&&n(8,y=await s.getPreferredSkinTone())}a()}if(t.$$.dirty[1]&512&&n(9,H=Array(Wt).fill().map((a,b)=>Io(o,b))),t.$$.dirty[0]&768&&n(21,R=H[y]),t.$$.dirty[0]&257&&n(23,se=r.skinToneLabel.replace("{skinTone}",r.skinTones[y])),t.$$.dirty[0]&16384|t.$$.dirty[1]&256){async function a(){n(46,z=(await Promise.all(vo.map(b=>s.getEmojiByUnicodeOrName(b)))).filter(Boolean))}Q&&a()}if(t.$$.dirty[0]&16384|t.$$.dirty[1]&98560){async function a(){let b=await s.getTopFavoriteEmoji(F),E=await B(cn([...b,...z],D=>D.unicode||D.name).slice(0,F));n(10,oe=E)}Q&&z&&a()}if(t.$$.dirty[0]&10|t.$$.dirty[1]&4096){let a=f.filter(b=>b.unicode).filter(b=>Vt(b)&&!kt.has(b.unicode));!u&&a.length?tt(()=>pe(a)):(n(1,f=u?f:f.filter(ge)),tt(()=>Mo(k)))}t.$$.dirty[0]&1026|t.$$.dirty[1]&8192,t.$$.dirty[0]&18|t.$$.dirty[1]&2048&&n(15,g=function(){if(L)return[{category:"",emojis:f}];let b=new Map;for(let E of f){let D=E.category||"",Y=b.get(D);Y||(Y=[],b.set(D,Y)),Y.push(E)}return[...b.entries()].map(([E,D])=>({category:E,emojis:D})).sort((E,D)=>m(E.category,D.category))}()),t.$$.dirty[0]&34&&n(26,le=A!==-1&&f[A].id),t.$$.dirty[0]&192&&(I?K.addEventListener("transitionend",()=>{n(19,V=!0)},{once:!0}):n(19,V=!1))},[r,f,h,k,L,A,I,K,y,H,oe,X,U,P,Q,g,w,v,N,V,T,R,G,se,Oe,ae,le,M,Ge,me,_e,ue,te,Re,ye,Ve,ke,He,ve,s,o,c,m,u,d,_,z,F,Xe,we,Ye,l,p,j]}var vt=class extends yt{constructor(e){super(),mo(this,e,Wo,Go,xn,{skinToneEmoji:40,i18n:0,database:39,customEmoji:41,customCategorySorting:42,emojiVersion:43},null,[-1,-1,-1])}},Vo="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",Ho="en",Xo={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}},un=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji","emojiVersion"],Yo=`:host{--emoji-font-family:${ln}}`,Ke=class extends HTMLElement{constructor(e){super(),this.attachShadow({mode:"open"});let n=document.createElement("style");n.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}"+Yo,this.shadowRoot.appendChild(n),this._ctx={locale:Ho,dataSource:Vo,skinToneEmoji:yo,customCategorySorting:wo,customEmoji:null,i18n:Xo,emojiVersion:null,...e};for(let o of un)o!=="database"&&Object.prototype.hasOwnProperty.call(this,o)&&(this._ctx[o]=this[o],delete this[o]);this._dbFlush()}connectedCallback(){this._cmp||(this._cmp=new vt({target:this.shadowRoot,props:this._ctx}))}disconnectedCallback(){Promise.resolve().then(()=>{if(!this.isConnected&&this._cmp){this._cmp.$destroy(),this._cmp=void 0;let{database:e}=this._ctx;e.close().catch(n=>console.error(n))}})}static get observedAttributes(){return["locale","data-source","skin-tone-emoji","emoji-version"]}attributeChangedCallback(e,n,o){this._set(e.replace(/-([a-z])/g,(r,s)=>s.toUpperCase()),e==="emoji-version"?parseFloat(o):o)}_set(e,n){this._ctx[e]=n,this._cmp&&this._cmp.$set({[e]:n}),["locale","dataSource"].includes(e)&&this._dbFlush()}_dbCreate(){let{locale:e,dataSource:n,database:o}=this._ctx;(!o||o.locale!==e||o.dataSource!==n)&&this._set("database",new Be({locale:e,dataSource:n}))}_dbFlush(){Promise.resolve().then(()=>this._dbCreate())}},dn={};for(let t of un)dn[t]={get(){return t==="database"&&this._dbCreate(),this._ctx[t]},set(e){if(t==="database")throw new Error("database is read-only");this._set(t,e)}};Object.defineProperties(Ke.prototype,dn);customElements.get("emoji-picker")||customElements.define("emoji-picker",Ke);export{Be as Database,Ke as Picker};
//# sourceMappingURL=emoji-picker-element.bundle.mjs.map